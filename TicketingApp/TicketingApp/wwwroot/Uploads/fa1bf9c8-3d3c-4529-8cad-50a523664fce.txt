DESKTOP-RG9QHD7


    <select class="form-select mb-2" aria-label="Default select example" name="selectedEmp">
        <option value="0" selected>Select Employee Name</option>
        @foreach (var emp in @ViewBag.AllEmployee)
        {
            <option value=@emp.EmployeeId>@emp.FirstName @emp.LastName</option>

        }
    </select>



    
    <input type="search" class="form-control mb-2" name="searchKey" value="@ViewBag.SrcKey" />


public ActionResult Employee(int selectedEmp = 0, string searchKey="")
        {
            CompanyABCEntities db = new CompanyABCEntities();
            List<Employee> allEmployees = db.Employees.OrderBy(emp=>emp.FirstName).ThenBy(emp=>emp.LastName).ToList();
            ViewBag.AllEmployee = allEmployees;
            ViewBag.SelectedEmp = selectedEmp;
            ViewBag.SrcKey = searchKey;
            Console.WriteLine(searchKey);

            List<Employee> employees = null;
            //List<Employee> employees = db.Employees.ToList();
            if (selectedEmp != 0 && searchKey !="")
            {
                employees = db.Employees.Where(emp => emp.EmployeeId== selectedEmp || (emp.FirstName +" "+ emp.LastName).Contains(searchKey)).ToList();

            }else if( selectedEmp !=0)
            {
                employees = db.Employees.Where(emp => (emp.EmployeeId) == selectedEmp).ToList();
                //employees = db.Employees.Where(emp => (emp.FirstName + emp.LastName).Contains(searchKey)).ToList();
            }
            else
            {
                employees = db.Employees.Where(emp => (emp.FirstName +" "+ emp.LastName).Contains(searchKey)).ToList();
            }
            return View(employees);
        }



<tr>
        @{ 
            int prevPageNo =  ViewBag.PageNo == 1?1: ViewBag.PageNo - 1;
            int nextPageNo = ViewBag.PageNo + 1 > ViewBag.NoOfPages? ViewBag.NoOfPages: ViewBag.PageNo + 1;

        }
        <td colspan="9">
            <ul class="pagination justify-content-center">
                @for(int i=0; i < ViewBag.NoOfPages; i++)
            {
                <li class="page-item">
                    <a class="page-link" href="/home/employee">@(i+1)</a>
                </li>
            }
            </ul>
        </td>
    </tr>


